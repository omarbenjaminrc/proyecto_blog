{% extends "blog/base.html" %} 

{% block title %}Artículos - Mi Blog Personal{% endblock title %} 

{% block content %}
<h1 class="mb-4">Artículos Recientes</h1>

{% if query %}
    <p>Resultados de búsqueda para: <strong>{{ query }}</strong></p>
{% endif %}

{# Formulario de Búsqueda #}
<form method="get" class="mb-4"> 
    <div class="input-group"> 
    <input type="text" class="form-control" name="q" placeholder="Buscar por título..." value="{{ request.GET.q }}"> 
    <button class="btn btn-outline-secondary" type="submit">Buscar</button>
    </div>
</form>
<hr>

{% if articulos %}
    <div class="row row-cols-1 row-cols-md-3 g-4"> 
    {% for articulo in articulos %}
        <div class="col"> 
        <div class="card h-100"> 
            {# <img src="..." class="card-img-top" alt="..."> #}
            <div class="card-body d-flex flex-column"> 
            <h5 class="card-title">
                <a href="{% url 'blog:detalle_articulo' slug=articulo.slug %}" class="text-decoration-none">
                {{ articulo.titulo }}
                </a>
            </h5>
            <h6 class="card-subtitle mb-2 text-muted">
                {{ articulo.fecha_creacion|date:"d M Y" }}
            </h6>
            <p class="card-text">
                {{ articulo.contenido|striptags|truncatewords:25 }}
            </p>
            <a href="{% url 'blog:detalle_articulo' slug=articulo.slug %}" class="btn btn-sm btn-outline-primary mt-auto">Leer más</a>
            </div>
        </div>
        </div> 
    {% endfor %}
    </div> 


{% else %}
    <div class="alert alert-info" role="alert">
    Todavía no hay artículos publicados. ¡Vuelve pronto!
    </div>
{% endif %}

{% endblock content %}